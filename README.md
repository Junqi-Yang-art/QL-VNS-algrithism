# QL-VNS-algrithism

# QL-VNS Algorithm for Vehicle Routing Problem

This repository contains an implementation of a hybrid algorithm combining Q-Learning and Variable Neighborhood Search (VNS) to solve the Vehicle Routing Problem (VRP). The QL-VNS algorithm leverages the strengths of both reinforcement learning and metaheuristic search to efficiently find high-quality solutions for complex routing problems.

## Features

- Integration of Q-Learning for adaptive decision-making in the routing process
- Enhanced VNS framework with multiple neighborhood structures for effective exploration and exploitation
- Dynamic adjustment of exploration rate during training
- Ability to handle large-scale problems with efficient solution representation and evaluation
- Save and load functionality for the learned Q-Table to facilitate continuous training and solution deployment

## Environment Requirements

- Python 3.8 or higher
- NumPy
- PuLP (for CPLEX integration)

## Getting Started

1. Clone the repository to your local machine
2. Install the required dependencies using pip:
   ```
   pip install numpy pulp
   ```
3. Prepare your problem instance data in the required format (see [Data Format](#data-format) section for details)

## Usage

### Training the Model

To train the QL-VNS model and save the learned Q-Table:

```bash
python ql_vns_train.py --iterations <number_of_iterations>
```

Replace `<number_of_iterations>` with the desired number of training iterations.

### Solving the Problem

To solve a vehicle routing problem instance using the pre-trained Q-Table:

```bash
python ql_vns_solve.py --file <problem_file> --iterations <number_of_iterations>
```

Replace `<problem_file>` with the path to your problem instance file and `<number_of_iterations>` with the desired number of solving iterations.

## Data Format

The data format for this project is structured to reflect the complexities of dynamic marine environments and the specific requirements of AUV swarm path planning. Each dataset includes the following key elements:

- **Graph Representation**: A directed graph where is the set of all nodes, and is the set of arcs. This includes the AUV starting and ending points (AUV Cabin), sensor-picking nodes, and sensor-placing nodes.

- **Node Attributes**: For each node, the data includes:
  - Unique node identifier
  - Spatial coordinates (X, Y)
  - Service time required at the node
  - Time window constraints (earliest and latest start times for servicing)
  - Node type (pickup, delivery, or depot)

- **Request Information**: Details for each transportation request, including:
  - Associated pickup and delivery nodes
  - Profit generated by fulfilling the request
  - Size or load of the sensor associated with the request

- **AUV Specifications**: Parameters for the AUVs, such as:
  - Vehicle capacity
  - Fixed cost per vehicle used
  - Energy consumption rate

- **Dynamic Environmental Factors**:
  - Ocean current model parameters based on Lamb vortex and Navier-Stokes equations
  - Noise profile data, including power spectral density functions for different noise components
  - Communication interruption probabilities and positioning error correction mechanisms

- **Arc Set**: Defined based on time window constraints and travel time calculations, including:
  - Time-dependent travel time function between nodes
  - Feasible arcs that satisfy time window and capacity constraints

- **Cost Function Parameters**: Weights and coefficients for various cost components, including:
  - Navigation and energy consumption costs
  - Penalty costs for latency, bandwidth limitations, and computational overhead

The dataset is designed to provide a comprehensive representation of the problem, incorporating both static elements (like node locations and request profits) and dynamic elements (such as time-dependent travel times and environmental noise). This format ensures that the algorithm can effectively process and respond to the complexities of real-world marine path planning scenarios.

## Customization

You can customize the algorithm by modifying the following parameters in the code:

- Learning rate (`alpha`) and discount factor (`gamma`) for Q-Learning
- Exploration rate (`epsilon`) and its decay rate
- Problem-specific parameters such as vehicle capacity and maximum time
- Neighborhood operators and their configurations in the VNS framework

## Contribution

Contributions to the project are welcome. Feel free to submit issues, feature requests, or pull requests to help improve the algorithm and its implementation.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Contact

For any questions or suggestions, please contact [2771393984@qq.com].
